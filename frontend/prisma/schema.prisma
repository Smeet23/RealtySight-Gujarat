generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres:postgres123@localhost:5432/gujarat_real_estate?schema=public"
}

model projects {
  id                      String    @id @default(uuid()) @db.Uuid
  rera_project_id         String    @unique @db.VarChar(255)
  project_name            String    @db.VarChar(255)
  project_description     String?   @db.Text
  project_type            String    @db.Text
  project_status          String?   @db.Text
  address                 String?   @db.Text
  locality                String?   @db.VarChar(255)
  city                    String    @db.VarChar(255)
  district                String?   @db.VarChar(255)
  pincode                 String?   @db.VarChar(255)
  latitude                Decimal?  @db.Decimal(10, 8)
  longitude               Decimal?  @db.Decimal(11, 8)
  total_area_sqmt         Decimal?  @db.Decimal(12, 2)
  total_units             Int?
  total_buildings         Int?
  total_floors            Int?
  unit_configurations     Json?
  min_price               Decimal?  @db.Decimal(12, 2)
  max_price               Decimal?  @db.Decimal(12, 2)
  avg_price_per_sqft      Decimal?  @db.Decimal(10, 2)
  units_sold              Int?      @default(0)
  units_available         Int?
  booking_percentage      Decimal?  @db.Decimal(5, 2)
  last_booking_update     DateTime? @db.Date
  project_start_date      DateTime? @db.Date
  project_completion_date DateTime? @db.Date
  revised_completion_date DateTime? @db.Date
  actual_completion_date  DateTime? @db.Date
  total_project_cost      Decimal?  @db.Decimal(15, 2)
  amount_collected        Decimal?  @db.Decimal(15, 2)
  approvals               Json?
  rera_approval_date      DateTime? @db.Date
  rera_expiry_date        DateTime? @db.Date
  amenities               Json?
  views_count             Int?      @default(0)
  inquiries_count         Int?      @default(0)
  demand_score            Decimal?  @db.Decimal(3, 2)
  investment_score        Decimal?  @db.Decimal(3, 2)
  quarterly_sales         Json?
  metadata                Json?
  is_featured             Boolean?  @default(false)
  is_active               Boolean?  @default(true)
  created_at              DateTime  @default(now()) @db.Timestamptz(6)
  updated_at              DateTime  @default(now()) @db.Timestamptz(6)

  @@index([booking_percentage])
  @@index([city])
  @@index([is_active])
  @@index([latitude, longitude])
  @@index([locality])
  @@index([project_status])
  @@index([project_type])
  @@index([rera_project_id])
}